<?xml version="1.0" encoding="UTF-8"?>
<api context="/connect" name="Connect" xmlns="http://ws.apache.org/ns/synapse">
  <resource methods="GET" uri-template="/">
    <inSequence>
    <file.listFiles configKey="DemoSFTP">
    <directoryPath >/</directoryPath>
    <matchingPattern >txt</matchingPattern>
    <recursive >true</recursive>
    <responseFormat >Hierarchical</responseFormat>
    <sortingAttribute >Name</sortingAttribute>
    <sortingOrder >Ascending</sortingOrder>
    <maxRetries >10</maxRetries>
    <retryDelay >1000</retryDelay>
    <diskShareAccessMask >MAXIMUM_ALLOWED</diskShareAccessMask>
      </file.listFiles>
      <log category="INFO" level="simple">
        <property name="AfterListFiles" value="SFTP files listed"/>
      </log>
    </inSequence>
    <faultSequence>
    </faultSequence>
  </resource>
</api>
